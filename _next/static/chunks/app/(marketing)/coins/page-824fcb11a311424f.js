(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{1301:function(e,t,r){Promise.resolve().then(r.bind(r,695)),Promise.resolve().then(r.t.bind(r,2972,23))},695:function(e,t,r){"use strict";r.d(t,{CoinsClient:function(){return x}});var n=r(7437),a=r(2265),s=r(4508),i=r(8755);let c=(0,i.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,i.Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,i.Z)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function d(e){let{data:t,color:r,width:s=120,height:i=40}=e,{points:c,gradientId:l,trend:o}=(0,a.useMemo)(()=>{if(!t||0===t.length)return{points:"",gradientId:"",trend:"neutral"};let e=Math.min(...t),r=Math.max(...t)-e||1,n=s-4,a=i-8,c=t.length>50?Math.floor(t.length/50):1,l=[];for(let e=0;e<t.length;e+=c)l.push(t[e]);return l[l.length-1]!==t[t.length-1]&&l.push(t[t.length-1]),{points:l.map((t,s)=>{let i=2+s/(l.length-1)*n;return"".concat(i.toFixed(1),",").concat((4+a-(t-e)/r*a).toFixed(1))}).join(" "),gradientId:"gradient-".concat(Math.random().toString(36).slice(2,9)),trend:t[t.length-1]>=t[0]?"positive":"negative"}},[t,s,i]);if(!t||0===t.length)return(0,n.jsx)("div",{style:{width:s,height:i},className:"flex items-center justify-center text-xs text-muted-foreground",children:"—"});let d=r||("positive"===o?"#00C853":"#FF1744");return(0,n.jsxs)("svg",{width:s,height:i,viewBox:"0 0 ".concat(s," ").concat(i),className:"overflow-visible","aria-label":"7日間の価格推移",role:"img",children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:l,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:d,stopOpacity:.3}),(0,n.jsx)("stop",{offset:"100%",stopColor:d,stopOpacity:.02})]})}),(0,n.jsx)("polygon",{points:"".concat(c," ").concat(s-2,",").concat(i-4," 2,").concat(i-4),fill:"url(#".concat(l,")")}),(0,n.jsx)("polyline",{points:c,fill:"none",stroke:d,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})}function m(e){return e>=1e12?"".concat((e/1e12).toFixed(2),"兆"):e>=1e8?"".concat((e/1e8).toFixed(2),"億"):e>=1e4?"".concat((e/1e4).toFixed(2),"万"):e.toLocaleString("ja-JP")}function h(e){return null==e?"—":"".concat(e>=0?"+":"").concat(e.toFixed(2),"%")}function u(e){let{initialCoins:t}=e,[r,i]=(0,a.useState)([...t].sort((e,t)=>e.market_cap_rank-t.market_cap_rank)),[u,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(new Date),g=(0,a.useCallback)(async()=>{x(!0);try{let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=jpy&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h,7d");if(e.ok){let t=await e.json();i([...t].sort((e,t)=>e.market_cap_rank-t.market_cap_rank)),f(new Date)}}catch(e){}finally{x(!1)}},[]);return(0,a.useEffect)(()=>{let e=setInterval(g,6e4);return()=>clearInterval(e)},[g]),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["最終更新:"," ",p.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),(0,n.jsxs)("button",{onClick:g,disabled:u,className:(0,s.cn)("flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",u&&"animate-spin"),"aria-label":"価格を更新",children:[(0,n.jsx)(c,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"更新"})]})]}),(0,n.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border",children:(0,n.jsxs)("table",{className:"w-full text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-muted/50 text-muted-foreground",children:[(0,n.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"#"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"名前"}),(0,n.jsx)("th",{className:"px-3 py-3 text-right font-medium",children:"価格"}),(0,n.jsx)("th",{className:"px-3 py-3 text-right font-medium",children:"24h"}),(0,n.jsx)("th",{className:"hidden md:table-cell px-3 py-3 text-right font-medium",children:"7d"}),(0,n.jsx)("th",{className:"hidden lg:table-cell px-3 py-3 text-right font-medium",children:"時価総額"}),(0,n.jsx)("th",{className:"hidden lg:table-cell px-3 py-3 text-right font-medium",children:"出来高(24h)"}),(0,n.jsx)("th",{className:"hidden xl:table-cell px-3 py-3 text-right font-medium",children:"7日間チャート"})]})}),(0,n.jsx)("tbody",{children:r.map(e=>{var t,r,a;let i=e.price_change_percentage_24h>=0,c=(null!==(r=e.price_change_percentage_7d_in_currency)&&void 0!==r?r:0)>=0;return(0,n.jsxs)("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[(0,n.jsx)("td",{className:"px-3 py-3 text-muted-foreground",children:e.market_cap_rank}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("img",{src:e.image,alt:e.name,className:"h-6 w-6 rounded-full",loading:"lazy"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[(0,n.jsx)("span",{className:"font-medium text-foreground",children:e.name}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground uppercase",children:e.symbol})]})]})}),(0,n.jsx)("td",{className:"px-3 py-3 text-right font-mono font-medium text-foreground",children:(a=e.current_price)>=1?"\xa5".concat(a.toLocaleString("ja-JP",{maximumFractionDigits:0})):"\xa5".concat(a.toLocaleString("ja-JP",{maximumFractionDigits:4}))}),(0,n.jsx)("td",{className:(0,s.cn)("px-3 py-3 text-right font-mono text-sm",i?"text-crypto-green":"text-crypto-red"),children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[i?(0,n.jsx)(l,{className:"h-3.5 w-3.5"}):(0,n.jsx)(o,{className:"h-3.5 w-3.5"}),h(e.price_change_percentage_24h)]})}),(0,n.jsx)("td",{className:(0,s.cn)("hidden md:table-cell px-3 py-3 text-right font-mono text-sm",c?"text-crypto-green":"text-crypto-red"),children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[c?(0,n.jsx)(l,{className:"h-3.5 w-3.5"}):(0,n.jsx)(o,{className:"h-3.5 w-3.5"}),h(e.price_change_percentage_7d_in_currency)]})}),(0,n.jsxs)("td",{className:"hidden lg:table-cell px-3 py-3 text-right font-mono text-muted-foreground",children:["\xa5",m(e.market_cap)]}),(0,n.jsxs)("td",{className:"hidden lg:table-cell px-3 py-3 text-right font-mono text-muted-foreground",children:["\xa5",m(e.total_volume)]}),(0,n.jsx)("td",{className:"hidden xl:table-cell px-3 py-3",children:(null===(t=e.sparkline_in_7d)||void 0===t?void 0:t.price)&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(d,{data:e.sparkline_in_7d.price,color:c?"#00C853":"#FF1744",width:120,height:40})})})]},e.id)})})]})})]})}function x(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{(async function(){try{let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=jpy&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h,7d");if(!e.ok)throw Error("API error");let r=await e.json();t(r),l(!1)}catch(e){l(!0)}finally{s(!1)}})()},[]),r)?(0,n.jsxs)("div",{className:"flex items-center justify-center rounded-xl border border-border bg-card p-16",children:[(0,n.jsx)(c,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,n.jsx)("span",{className:"ml-3 text-muted-foreground",children:"価格データを取得中..."})]}):i||0===e.length?(0,n.jsxs)("div",{className:"rounded-xl border border-border bg-card p-12 text-center",children:[(0,n.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"価格データの取得に失敗しました。"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"しばらく時間をおいてから再度アクセスしてください。"})]}):(0,n.jsx)(u,{initialCoins:e})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},8755:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(2265);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:m,iconNode:h,...u}=e;return(0,n.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:c?24*Number(i)/Number(s):i,className:a("lucide",d),...!m&&!o(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:l,...o}=r;return(0,n.createElement)(d,{ref:i,iconNode:t,className:a("lucide-".concat(s(c(e))),"lucide-".concat(e),l),...o})});return r.displayName=c(e),r}}},function(e){e.O(0,[972,137,971,117,744],function(){return e(e.s=1301)}),_N_E=e.O()}]);