(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{65:function(e,t,n){Promise.resolve().then(n.bind(n,695)),Promise.resolve().then(n.t.bind(n,2972,23))},695:function(e,t,n){"use strict";n.d(t,{CoinsClient:function(){return p}});var r=n(7437),s=n(2265),a=n(4508),c=n(8755);let i=(0,c.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,c.Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,c.Z)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function d(e){let{data:t,color:n,width:a=120,height:c=40}=e,{points:i,gradientId:l,trend:o}=(0,s.useMemo)(()=>{if(!t||0===t.length)return{points:"",gradientId:"",trend:"neutral"};let e=Math.min(...t),n=Math.max(...t)-e||1,r=a-4,s=c-8,i=t.length>50?Math.floor(t.length/50):1,l=[];for(let e=0;e<t.length;e+=i)l.push(t[e]);return l[l.length-1]!==t[t.length-1]&&l.push(t[t.length-1]),{points:l.map((t,a)=>{let c=2+a/(l.length-1)*r;return"".concat(c.toFixed(1),",").concat((4+s-(t-e)/n*s).toFixed(1))}).join(" "),gradientId:"gradient-".concat(Math.random().toString(36).slice(2,9)),trend:t[t.length-1]>=t[0]?"positive":"negative"}},[t,a,c]);if(!t||0===t.length)return(0,r.jsx)("div",{style:{width:a,height:c},className:"flex items-center justify-center text-xs text-muted-foreground",children:"—"});let d=n||("positive"===o?"#00C853":"#FF1744");return(0,r.jsxs)("svg",{width:a,height:c,viewBox:"0 0 ".concat(a," ").concat(c),className:"overflow-visible","aria-label":"7日間の価格推移",role:"img",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:l,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:d,stopOpacity:.3}),(0,r.jsx)("stop",{offset:"100%",stopColor:d,stopOpacity:.02})]})}),(0,r.jsx)("polygon",{points:"".concat(i," ").concat(a-2,",").concat(c-4," 2,").concat(c-4),fill:"url(#".concat(l,")")}),(0,r.jsx)("polyline",{points:i,fill:"none",stroke:d,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})}function m(e){return e>=1e12?"".concat((e/1e12).toFixed(2),"兆"):e>=1e8?"".concat((e/1e8).toFixed(2),"億"):e>=1e4?"".concat((e/1e4).toFixed(2),"万"):e.toLocaleString("ja-JP")}function h(e){return null==e?"—":"".concat(e>=0?"+":"").concat(e.toFixed(2),"%")}function x(e){let{initialCoins:t}=e,[n,c]=(0,s.useState)([...t].sort((e,t)=>e.market_cap_rank-t.market_cap_rank)),[x,p]=(0,s.useState)(!1),[u,f]=(0,s.useState)(new Date),g=(0,s.useCallback)(async()=>{p(!0);try{let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=jpy&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h,7d");if(e.ok){let t=await e.json();c([...t].sort((e,t)=>e.market_cap_rank-t.market_cap_rank)),f(new Date)}}catch(e){}finally{p(!1)}},[]);return(0,s.useEffect)(()=>{let e=setInterval(g,6e4);return()=>clearInterval(e)},[g]),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["最終更新:"," ",u.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),(0,r.jsxs)("button",{onClick:g,disabled:x,className:(0,a.cn)("flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",x&&"animate-spin"),"aria-label":"価格を更新",children:[(0,r.jsx)(i,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"更新"})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-muted/50 text-muted-foreground",children:[(0,r.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"#"}),(0,r.jsx)("th",{className:"px-3 py-3 text-left font-medium",children:"名前"}),(0,r.jsx)("th",{className:"px-3 py-3 text-right font-medium",children:"価格"}),(0,r.jsx)("th",{className:"px-3 py-3 text-right font-medium",children:"24h"}),(0,r.jsx)("th",{className:"hidden md:table-cell px-3 py-3 text-right font-medium",children:"7d"}),(0,r.jsx)("th",{className:"hidden lg:table-cell px-3 py-3 text-right font-medium",children:"時価総額"}),(0,r.jsx)("th",{className:"hidden lg:table-cell px-3 py-3 text-right font-medium",children:"出来高(24h)"}),(0,r.jsx)("th",{className:"hidden xl:table-cell px-3 py-3 text-right font-medium",children:"7日間チャート"})]})}),(0,r.jsx)("tbody",{children:n.map(e=>{var t,n,s;let c=e.price_change_percentage_24h>=0,i=(null!==(n=e.price_change_percentage_7d_in_currency)&&void 0!==n?n:0)>=0;return(0,r.jsxs)("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[(0,r.jsx)("td",{className:"px-3 py-3 text-muted-foreground",children:e.market_cap_rank}),(0,r.jsx)("td",{className:"px-3 py-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"h-6 w-6 rounded-full",loading:"lazy"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-foreground",children:e.name}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground uppercase",children:e.symbol})]})]})}),(0,r.jsx)("td",{className:"px-3 py-3 text-right font-mono font-medium text-foreground",children:(s=e.current_price)>=1?"\xa5".concat(s.toLocaleString("ja-JP",{maximumFractionDigits:0})):"\xa5".concat(s.toLocaleString("ja-JP",{maximumFractionDigits:4}))}),(0,r.jsx)("td",{className:(0,a.cn)("px-3 py-3 text-right font-mono text-sm",c?"text-crypto-green":"text-crypto-red"),children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[c?(0,r.jsx)(l,{className:"h-3.5 w-3.5"}):(0,r.jsx)(o,{className:"h-3.5 w-3.5"}),h(e.price_change_percentage_24h)]})}),(0,r.jsx)("td",{className:(0,a.cn)("hidden md:table-cell px-3 py-3 text-right font-mono text-sm",i?"text-crypto-green":"text-crypto-red"),children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[i?(0,r.jsx)(l,{className:"h-3.5 w-3.5"}):(0,r.jsx)(o,{className:"h-3.5 w-3.5"}),h(e.price_change_percentage_7d_in_currency)]})}),(0,r.jsxs)("td",{className:"hidden lg:table-cell px-3 py-3 text-right font-mono text-muted-foreground",children:["\xa5",m(e.market_cap)]}),(0,r.jsxs)("td",{className:"hidden lg:table-cell px-3 py-3 text-right font-mono text-muted-foreground",children:["\xa5",m(e.total_volume)]}),(0,r.jsx)("td",{className:"hidden xl:table-cell px-3 py-3",children:(null===(t=e.sparkline_in_7d)||void 0===t?void 0:t.price)&&(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(d,{data:e.sparkline_in_7d.price,color:i?"#00C853":"#FF1744",width:120,height:40})})})]},e.id)})})]})})]})}function p(){let[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0),[c,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{(async function(){try{let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=jpy&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h,7d");if(!e.ok)throw Error("API error");let n=await e.json();t(n),l(!1)}catch(e){l(!0)}finally{a(!1)}})()},[]),n)?(0,r.jsxs)("div",{className:"flex items-center justify-center rounded-xl border border-border bg-card p-16",children:[(0,r.jsx)(i,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,r.jsx)("span",{className:"ml-3 text-muted-foreground",children:"価格データを取得中..."})]}):c||0===e.length?(0,r.jsxs)("div",{className:"rounded-xl border border-border bg-card p-12 text-center",children:[(0,r.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"価格データの取得に失敗しました。"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"しばらく時間をおいてから再度アクセスしてください。"})]}):(0,r.jsx)(x,{initialCoins:e})}},4508:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(1994),s=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[972,697,971,117,744],function(){return e(e.s=65)}),_N_E=e.O()}]);